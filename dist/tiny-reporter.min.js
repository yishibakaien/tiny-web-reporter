!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):(e="undefined"!=typeof globalThis?globalThis:e||self).tReporter=r()}(this,(function(){"use strict";var e=new(function(){function e(){this.value=[]}return e.prototype.push=function(e){this.value.push(e)},e.prototype.get=function(){return this.value},e.prototype.clear=function(){this.value=[]},e}()),r=function(){return setTimeout((function(){return function(r,n){var t;(t=r).recordType||(t.recordType="performance"),t.uuid||(t.uuid="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var r=16*Math.random()>>>0;return("x"===e?r:(3&r)>>>8).toString(16)}))),t.recordTime||(t.recordTime=+new Date),e.push(r);var i=e.value;if(i.length>=10)return i}(function(){var e=window.performance.getEntriesByType("navigation")[0].toJSON();for(var r in e)"number"==typeof e[r]&&(e[r]=Math.ceil(e[r]));return e}())}),300)};return function(n){var t=n.key,i=n.url,o=n.isPerformance;if(!t)throw new Error("params error: `key` is required");if(!i)throw new Error("params error: `url` is required");!function(r){document.addEventListener("visibilitychange",(function(){if("hidden"===document.visibilityState){if(!e.value.length)return;var n=JSON.stringify(e.value);console.log("1234",n),navigator.sendBeacon(r,n),e.clear()}}))}(i),o&&window.addEventListener("load",r,!1)}}));
//# sourceMappingURL=tiny-reporter.min.js.map
